## 2云平台安全

### 2.1物理安全

京东云执行严格的IDC标准、服务器准入标准以及运维标准，以保证云计算整个基础框架的高可用性、数据的可靠性以及云主机的高可用性，提供不低于99.9%的服务可用性。保证基础架构及环境高可用特性，比如供电系统、空调系统、火灾检测防护系统、动力系统等具备的灾备和冗余能力。京东云专有云的数据中心机房配置了多级的安全保护措施，运维运营团队严格执行访问控制、安保措施、监控审计、应急响应等措施，以确保专有云数据中心机房的物理和环境安全。

- 电力保障

  数据中心机房的电源系统为充分冗余且可维护，保障业务7*24 ⼩时持续运行，使用电力供应采用来自多变电站的双路市电供电， 当市电供电中断后柴油发电机及UPS能正常接管电力， 并且在机房供电线路上配置了稳压器和过压防护设备。

- 温湿度控制

  通过精密空调、集中加湿器自动调节， 数据中心机房温湿度保持在设备运行所允许的范围内，使服务器及设备元器件处于良好的运行状态。

- 防静电

  数据中心机房内部安装防静电地板，机柜、线槽等均安装接地线，用以防御静电给电器设备带来的损害。

- 消防能力

  数据中心机房安装了自动火灾探测及扑救设备，实现自动报警并及时灭火。

- 监控管理

  数据中心机房安装配备CCTV系统、门禁系统、环境与设备集中监控系统，监测冷通道内温湿度、配电柜开关状态、机柜电流、UPS运行状态、冷冻水空调系统运行状态、漏水和漏油监控报警系统，并执行严格日常维护保障系统机房巡检要求，安全隐患能被及时发现并修复。

- 访问控制

  专有云数据中心机房具备访问控制，制定了机房管理制度策略和访问控制策略。例如，根据数据中心人员类别和访问权限，建立完整的人员访问控制安全矩阵。对于携带设备进出机房，对物理设备的操作等，均需具备相应的访问控制策略。

### 2.2网络安全

专有云提供成熟的网络安全架构及多层防护的安全方案，对生产网络与非生产网络、业务网络和管理网络、虚拟网络和物理网络进行了安全隔离和严格的访问控制。

- 网络高可用

  采用冗余技术手段保证主要物理网络设备、虚拟网络设备的业务处理能力满足业务高峰期的需求。关键网络设备均采用冗余部署。

  通过边界处的安全设备（防火墙/入侵检测/DDoS防护），配合云平台自身的流量调度的能力，为用户或租户提供实时安全流量清洗防护。

  按照业务需求合理配置通信网络中核心、汇聚等各层交换设备的处理能力。

- 网络安全隔离

  业务网络、物理网络、管理网络间通过网络访问控制策略实现三网逻辑隔离。

  通过访问控制技术，限制外部通信网络直接访问内部通信网络，并限制由虚拟机非法访问内部通信网络。

  内部通信网络采用VLAN协议对用户数据包做隧道封装， 保证内部通信网络实现二层隔离，虚拟机接收不到目的地址不是自己的非广播报文。

  虚拟机接入虚拟网络时，可通过安全组或主机防火墙产品设置访问控制策略，隔离由虚拟机向外发起的异常协议访问，保证其发出的数据包源地址为其真实地址。

### 2.3系统安全

#### 2.3.1 服务器系统安全

   专有云物理服务器信息安全措施主要包括：访问控制、入侵检测、恶意病毒防范、漏洞扫描、安全加固等方面进行安全设计和控制，为用户信息系统运行提供一个安全的环境。

- 系统加固

   专有云物理服务器系统进行安全加固，实现文件强制访问控制、注册表强制访问控制、进程强制访问控制、服务强制访问控制、三权分立的管理、管理员登录的强身份认证、文件完整性监测等功能。

   对服务器系统管理员的账号和密码进行管理，同时对物理服务器端口进行安全策略设置。

   及时打上补丁避免漏洞被蓄意攻击利用。

   对于一段时间内完全不会用到的服务器，完全关闭；对于期间要使用的服务器，关闭不需要的服务。

- 安全防护

  配置防火墙，通过适当的安全策略配置以达到最好的防护效果。

  部署主机入侵检测（HIDS）模块，进行异常进程检测、异常端口检测、异常行为检测。

- 日志和备份

  为防止不能预料的系统故障或用户不小心的非法操作，对系统进行安全备份。

  通过运行系统日志程序，系统记录下所有用户使用系统的情形，包括最近登录时间、使用的账号、进行的活动等。

#### 2.3.2虚拟化系统安全

专有云虚拟化资源层通过CPU 隔离、内存隔离、I/O 隔离、网络隔离等技术手段实现虚拟主机操作系统与访客虚拟机操作系统之间的隔离，并通过Hypervisor 让虚拟主机操作系统与访客虚拟机操作系统使用不同的权限运行，来保证云平台系统资源的安全。基于硬件虚拟化技术的虚拟机管理，将多个计算节点的虚拟机在系统层面进行隔离，租户不能访问相互之间未授权的系统资源。

- CPU 隔离

  基于硬件虚拟化的CPU 隔离主要是指虚拟化平台与虚拟机之间的隔离，虚拟机内部的权限分配和虚拟机与虚拟机之间的隔离。在专有云平台使用的虚拟化环境中，将用户实例作为独立的虚拟机运行，并且通过使用物理处理器权限级别强制执行隔离，确保用户虚拟机无法通过未授权的方式访问物理主机和其他用户虚拟机的系统资源。

- 内存隔离

  虚拟化平台负责为虚拟机提供内存资源，保证每个虚拟机只能访问到其自身的内存。虚拟化平台管理虚拟机内存与真实物理内存之间的映射关系，保证虚拟机内存与物理内存之间形成一一映射关系。

- I/O 隔离

  虚拟化平台为每个虚拟机提供独立的虚拟I/O设备，避免多个虚拟机共享设备造成的信息泄露。每个虚拟磁盘对应虚拟化平台上的一个镜像文件或逻辑卷，保证虚拟机只能访问分配给它的物理磁盘空间，从而实现不同虚拟机硬盘空间的安全隔离。

- 网络隔离

  私有网络为用户划分一片隔离安全的私有空间，私有网络间独立隔离，将云主机部署在不同私有网络下即可实现虚拟网络隔离。

### 2.4应用安全

#### 2.4.1云产品SDL

专有云所有提供服务的云产品，在开发过程中严格遵循产品的安全开发生命周期 (Security Development Lifecycle，简称SDL)安全开发流程。京东云的安全开发基于业界安全开发的最佳实践， 并针对其中的环节做了优化。在产品开发各个阶段中消除信息安全和隐私问题， 确保所有的云产品在其生命周期内均能获得足够的安全管控与评估。

云产品SDL安全开发流程如下图所示：

![图 5 云产品SDL](https://github.com/jdcloudcom/cn/blob/cruzhang-patch-6/image/JDCloud-Proprietary-Cloud-Security-WhitePaper/Security-Development-Lifecycle.jpg)

如上图所示，整个云产品安全生命周期分为七个阶段：培训阶段、分析阶段、设计阶段、开发阶段、验证阶段、发布阶段、事件响应阶段。

- 培训阶段 : 开发团队的所有成员都接受相应的安全培训，了解相关的安全知识，培训对象包括开发人员、测试人员、项目经理、产品经理等。

- 分析阶段：在项目确立之前，提前与项目经理或者产品负责人进行沟通，确定安全的要求和属于产品范围的安全基线，确认项目计划和里程碑。

- 设计阶段 : 安全团队进行威胁建模，评估现有的需求和设计架构，沟通设计中的安全问题及应对方式。

- 开发阶段 : 项目组严格遵守安全编码规范或指南，最大限度减少编码时出现的安全漏洞。项目组使用安全团队提供的安全评测工具，确保开发编码的安全性。

- 验证阶段 : 安全团队提供对产品的人工渗透测试工作和白盒代码审计工作，并修复其漏洞。

- 发布阶段 : 产品上线前，需经过安全复核并且得到安全审批许可后，产品才能通过标准发布系统部署到生产环境。

- 事件响应：受SDL要求约束的每个软件在发布时都必须包含事件响应计划。

#### 2.4.2 Web应用防火墙

专有云平台采用Web应用防火墙对平台应用安全进行安全防御，Web应用防火墙是对网站或APP服务进行安全和合规性保护的应用安全防护产品；通过恶意特征提取和大数据行为分析识别恶意流量并处理，针对应用的OWASP TOP 10攻击进行防护，保护云平台网站应用安全。

### 2.5数据安全

京东云遵循数据安全生命周期管理的业界先进标准，采取管理和技术两方面的手段进行全面数据安全体系建设。数据安全管理遵循“责任明确、授权合理、流程规范、技管结合”的工作方针。围绕事前防范、事中保护和事后追溯三个阶段， 为用户数据打造一个安全可靠的底层平台。


- 事前防范

  - 静态数据加密
  
    专有云提供各种加密功能，便于用户选择满足自己需求的最佳解决方案。帮助用户保持对密钥的控制，以便云应用程序和服务用于加密数据，使用云磁盘加密来加密虚拟机，存储服务加密可以加密用户存储帐户中的所有数据。
  
  - 数据隔离
  
    对云端数据的隔离是通过私有网络（VPC)实施的，此私有网络空间由用户完全掌控，它将不同租户间的网络深度隔离，保证了不同租户间的数据不会被越权获取。

    应用硬件虚拟化技术在虚拟层为云服务器等资源提供完整的租户间虚拟资源隔离能力，用户只能访问其已购买的云计算资源，有效实现多用户之间的数据隔离。

    基于数据库存储对用户数据进行隔离存储，即与用户业务数据及专有云平台自身数据等不同类别的数据相隔离，并等同享受数据库存储数据的安全保障措施。
  
  - 存储加密
  
    云硬盘加密对存储在云硬盘上的数据进行加密，从而保障云硬盘中静态数据的安全性和数据在云主机实例和云硬盘间传输的安全性。

    保护存储在对象存储服务（OSS：Object Storage Service）数据中心的磁盘上数据，用户可以对存储空间设置默认加密，从而对其中默认加密生效期间存储的对象进行服务器端加密。在使用服务器端加密时，OSS 将对象保存到其数据中心的磁盘上之前对其进行加密，并在下载对象时对其进行解密。

    数据库RDS支持使用透明数据加密 (TDE) 来加密运行 Microsoft SQL Server 的数据库实例中存储的数据。TDE会在数据写入存储前自动加密这些数据，并在从存储中读取时自动解密这些数据。数据库文件的加密在页级别执行，已加密数据库中的页在写入磁盘之前会进行加密，在读入内存时会进行解密。

  - 存储备份
  
    京东云的存储容灾服务为弹性云服务器、云硬盘和专属存储等服务提供容灾能力，通过存储复制、数据冗余和缓存加速等多项技术，为用户存储数据提供可跨区域复制功能并实时同步到指定区域，实现数据异地容灾。

    数据备份服务拥有完善的数据备份机制，支持自动备份和手动备份，每个实例默认每天自动备份一次，也可以根据业务情况随时创建备份，备份文件以三副本的形式保存在京东云对象存储中，无需担心数据丢失。

  - 传输加密
 
    云产品控制台上的通信都受到了HTTPS安全协议的加密保护。使用行业标准传输层安全性的SSL/TLS 加密在用户与云、云平台系统和数据中心之间的内部通信，保护传入或传出组件的数据，以及在内部传输的数据。

- 事中保护

    为了确保用户在使用云服务的过程中，用户数据受到实时的保护，并及时发现潜在的数据安全事件，在云平台的各个层面精心部署了全面的安全防护，并将京东云自身的事中保护能力转化为用户能够感知和应用的云安全产品，以帮助云用户快速高效地部署云端安全防护。详细内容请查看“专有云安全产品服务”。

- 事后追溯

  - 运维数据安全
  
    为保障专有云平台的平稳运行，建立了一套严格的、细粒度的权限管理机制，要求运维管理人员始终坚持“与用户数据有关的操作需获得用户授权，不进行有损用户数据的操作”的基本原则。对于与用户数据安全直接相关的虚拟机迁移、数据搬迁、业务扩容关键运维操作，制定了明确操作规范，规范化要求运维人员。

  - 安全响应与审计
  
    专有云提供数据安全应急预案并支持7*24小时的全天候安全运维响应， 通过安全审计机制进行监控、审计、分析，对运维过程中的可疑操作进行问题排查与追溯。

### 2.6安全管理服务

#### 2.6.1云翼DevOps

  专有云提供集中化运维管理平台（云翼DevOps），基于自身自动化运维能力，针对专有云构建的一套DevOps产品。云翼一站式解决业务生命周期内服务管理闭环，为用户提供全链路的部署、监控、容器、服务管理等解决方案，解决专有云平台自身的应用运维、服务管理、代码管理、持续发布、集成测试、服务监控、日志管理等各类管理维护问题。

#### 2.6.2访问控制

  访问控制（Identity and Access Management，简称IAM）是专有云提供的一项用户身份管理与资源访问控制服务。用户可以通过使用IAM创建、管理子用户，并控制这些子用户访问专有云资源的操作权限。

#### 2.6.3安全审计

  安全审计机制对专有云平台进行监控、审计、分析，及时发现异常数据流向及操作行为，一旦出现可能导致数据外泄、受损的恶意行为时，审计机制可以第一时间发出威胁告警。生产环境的运维操作通过堡垒机进行，后台运维操作记录均有统一的日志记录，并进行自动化安全审计。同时操作记录实时传输到集中日志平台，通过违规事项审计规则，主动发现异常或违规行为。

### 2.7安全运营服务

针对专有云平台，依托安全产品服务和安全运营标准，专有云提供安全评估、安全监测、安全响应、安全巡检等安全运营服务。

- 安全评估

  对云平台的系统进行安全评估，发现云平台中存在的网络安全、主机安全、应用安全隐患，并针对发现的安全隐患进行加固。对云平台运行过程中发现的安全漏洞（口令问题、配置问题等）进行修复。

- 安全监测

  安全运营机制可以及时获知并解决外部安全威胁及内部安全漏洞，云平台利用安全自动监测系统，搭配威胁情报、反欺诈功能以及态势感知分析模型，有效阻止黑客入侵、恶意攻击等问题，并在第一时间处理相关安全事件，保证云平台的安全稳定及用户数据业务安全。

- 安全响应

  在云平台及服务日常运行过程中，进行主动的风险管控，利用安全专家团队及云平台及服务自愈恢复能力，在紧急情况进行存储、应用等不同级别的数据与业务恢复。京东云配置了7 * 24的安全事件响应专家团队，执行应急预案及恢复流程，安全漏洞通告并进行风险整改，帮助用户快速解决安全问题并降低对业务的影响。

- 安全巡检

  保障专有云平台的安全稳定运行，掌握云平台服务状态，除了对物理资源进行巡检外，还按计划对云平台组件、云服务状态、资源统计、平台警报、操作日志、产品版本等进行巡检。检查内容包括物理资源、计算资源、存储资源、网络资源、高级云服务、云监控、日志审计等，并对产生的安全风险进行处理。



















